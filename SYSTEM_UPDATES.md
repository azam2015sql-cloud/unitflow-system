# ุชุญุฏูุซุงุช ูุธุงู UnitFlow

## โ ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ

### 1. ูุธุงู ุงูุชูุฌูู ุญุณุจ ุงูุฏูุฑ (Role-Based Routing)
- **ุงูุชุญุฏูุซ**: ุชู ุชุญุฏูุซ ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ูุชูุฌูู ุงููุณุชุฎุฏููู ุญุณุจ `work_page` ุงููุญุฏุฏ ูู ุฌุฏูู ุงูููุธููู
- **ุงููููุงุช ุงููุญุฏุซุฉ**: `frontend/auth.js`
- **ุงููุธููุฉ**: `saveUserAndRedirect()` - ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ ุงูุนูู ุงููุฎุตุตุฉ ูู

### 2. ูุธุงู ุงูุชุญูู ูู ุงููุตูู ููุตูุญุงุช (Page Access Control)
- **ุงูุชุญุฏูุซ**: ุชู ุฅุถุงูุฉ ูุธุงู ุชุญูู ุดุงูู ูู ุงููุตูู ููุตูุญุงุช ุญุณุจ ุงููุณู
- **ุงููููุงุช ุงููุญุฏุซุฉ**: `frontend/auth.js`
- **ุงููุธุงุฆู ุงูุฌุฏูุฏุฉ**:
  - `checkPageAccess(allowedDepartments, allowedPages)` - ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุตูู
  - `getUnitsForDepartment(units, department)` - ููุชุฑุฉ ุงููุญุฏุงุช ุญุณุจ ุงููุณู

### 3. ุงูุฅุญุตุงุฆูุงุช ุงูุดุงููุฉ ูููุญุฉ ุงูุชุญูู
- **ุงูุชุญุฏูุซ**: ุชู ุฅุถุงูุฉ ูุคุดุฑุงุช ุดุงููุฉ ูุฌููุน ุญุงูุงุช ุงููุญุฏุงุช ูุน ุชูุตูู ุฃููุงุน ุงููุญุฏุงุช
- **ุงููููุงุช ุงููุญุฏุซุฉ**: 
  - `backend/server.js` - ูุณุงุฑ `/api/stats/comprehensive`
  - `frontend/db.js` - ุฏุงูุฉ `getComprehensiveStats()`
  - `frontend/dashboard.html` - ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุดุงููุฉ
  - `frontend/styles.css` - ุชูุณููุงุช ุงูุฅุญุตุงุฆูุงุช

#### ุงููุคุดุฑุงุช ุงููุถุงูุฉ:
**ูุณู ุงูุนูููุงุช:**
- ุฌุงูุฒ ููุชุญููู
- ููุฏ ุงูุชุญููู  
- ูู ุงูุทุฑูู (ูุญูู)
- ููุฏ ุงูุชูุฑูุบ
- ูู ุงูุทุฑูู (ูุงุฑุบ)
- ุชู ุงูุชุณููู

**ุงููุณู ุงูููู:**
- ุงูุชุธุงุฑ ุงูุตูุงูุฉ
- ููุฏ ุงูุตูุงูุฉ
- ุงูุชุธุงุฑ ุงุณุจูุฑ
- ุงูุชูุงู ุงูุตูุงูุฉ

**ุงููุณู ุงูุชุฌุงุฑู:**
- ูู ุงูุชุธุงุฑ ุงููุณุชูุฏุงุช
- ููุฏ ุงููุนุงูุฌุฉ
- ุงูุชูุงู ุงููุณุชูุฏุงุช

**ูุณู ุงููููุฏ:**
- ูู ุงูุชุธุงุฑ ุงูุชุฒููุฏ
- ููุฏ ุงูุชุฒููุฏ
- ุชู ุงูุชุฒููุฏ

### 4. ุชูุตูู ุฃููุงุน ุงููุญุฏุงุช
- **ุงูุชุญุฏูุซ**: ูู ูุคุดุฑ ูุนุฑุถ ุชูุตูู ุนุฏุฏ ุงููุญุฏุงุช ุญุณุจ ุงูููุน (Tipper, Cargo, Tanker, Silo)
- **ุงูุชูุณูู**: ุนุฑุถ ูุฎุชุตุฑ (T, C, Tk, S) ูุน ุงูุฃููุงู ุงููููุฒุฉ

### 5. ููุชุฑุฉ ุงููุญุฏุงุช ุญุณุจ ุงููุณู
- **ุงูุชุญุฏูุซ**: ูู ููุธู ูุฑู ููุท ุงููุญุฏุงุช ุงูุฎุงุตุฉ ุจูุณูู
- **ุงูุงุณุชุซูุงุก**: ูุฏูุฑ ุงููุธุงู ูุฑู ุฌููุน ุงููุญุฏุงุช
- **ุงููููุงุช ุงููุญุฏุซุฉ**: ุฌููุน ุตูุญุงุช ุงูุฃูุณุงู

### 6. ุชุญุฏูุซ ุงูุดุฑูุท ุงูุฌุงูุจู ุงูุฏููุงูููู
- **ุงูุชุญุฏูุซ**: ุงูุดุฑูุท ุงูุฌุงูุจู ูุนุฑุถ ุงูุฑูุงุจุท ุญุณุจ ุตูุงุญูุงุช ุงููุณุชุฎุฏู
- **ุงููุธููุฉ**: `updateSidebarMenu()` ูู ุฌููุน ุงูุตูุญุงุช
- **ุงูุณููู**:
  - ูุฏูุฑ ุงููุธุงู: ูุฑู ุฌููุน ุงูุฑูุงุจุท
  - ุงูููุธููู ุงูุขุฎุฑูู: ูุฑูู ููุท ุฑูุงุจุท ุฃูุณุงููู

## ๐ ูุธุงู ุงูุตูุงุญูุงุช

### ูุฏูุฑ ุงููุธุงู (management)
- **ุงููุตูู**: ุฌููุน ุงูุตูุญุงุช
- **ุงููุญุฏุงุช**: ูุฑู ุฌููุน ุงููุญุฏุงุช
- **ุงูุฑูุงุจุท**: ุฌููุน ุฑูุงุจุท ุงูุดุฑูุท ุงูุฌุงูุจู

### ููุธู ุงูุนูููุงุช (operations)
- **ุงููุตูู**: dashboard.html, operations.html
- **ุงููุญุฏุงุช**: ูุญุฏุงุช ูุณู ุงูุนูููุงุช ููุท
- **ุงูุฑูุงุจุท**: ููุญุฉ ุงูุชุญูู + ุงูุนูููุงุช

### ููุธู ุงููุณู ุงูููู (technical)
- **ุงููุตูู**: dashboard.html, technical.html
- **ุงููุญุฏุงุช**: ูุญุฏุงุช ุงููุณู ุงูููู ููุท
- **ุงูุฑูุงุจุท**: ููุญุฉ ุงูุชุญูู + ุงููุณู ุงูููู

### ููุธู ุงููุณู ุงูุชุฌุงุฑู (commercial)
- **ุงููุตูู**: dashboard.html, commercial.html
- **ุงููุญุฏุงุช**: ูุญุฏุงุช ุงููุณู ุงูุชุฌุงุฑู ููุท
- **ุงูุฑูุงุจุท**: ููุญุฉ ุงูุชุญูู + ุงููุณู ุงูุชุฌุงุฑู

### ููุธู ูุณู ุงููููุฏ (fuel)
- **ุงููุตูู**: dashboard.html, fuel.html
- **ุงููุญุฏุงุช**: ูุญุฏุงุช ูุณู ุงููููุฏ ููุท
- **ุงูุฑูุงุจุท**: ููุญุฉ ุงูุชุญูู + ูุณู ุงููููุฏ

## ๐จ ุงูุชุญุณููุงุช ุงูุจุตุฑูุฉ

### ุงูุฅุญุตุงุฆูุงุช ุงูุดุงููุฉ
- **ุงูุชุตููู**: ุฃูุณุงู ูููุตูุฉ ููู ูุณู ูุน ุฃููุงู ูููุฒุฉ
- **ุงูุชูุงุนู**: ุชุฃุซูุฑุงุช hover ูุงูุชูุงูุงุช ุณูุณุฉ
- **ุงูุชูุตูู**: ุนุฑุถ ุฃููุงุน ุงููุญุฏุงุช ูุน ุฑููุฒ ูุฎุชุตุฑุฉ

### ุงูุฃููุงู ุงููููุฒุฉ
- **ุงูุนูููุงุช**: ุฃุฒุฑู (#4dabf7)
- **ุงูููู**: ุฃุฎุถุฑ (#20c997)
- **ุงูุชุฌุงุฑู**: ุจููุณุฌู (#6f42c1)
- **ุงููููุฏ**: ุจุฑุชูุงูู (#fd7e14)

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุฏูุฑ
1. ุณุฌู ุฏุฎููู ููุฏูุฑ ูุธุงู
2. ุณุชุชู ุชูุฌููู ุฅูู ููุญุฉ ุงูุชุญูู
3. ููููู ุงููุตูู ูุฌููุน ุงูุตูุญุงุช ูู ุงูุดุฑูุท ุงูุฌุงูุจู
4. ุณุชุดุงูุฏ ุฌููุน ุงูุฅุญุตุงุฆูุงุช ูุงููุญุฏุงุช

### ููููุธููู
1. ุณุฌู ุฏุฎููู ุจุญุณุงุจู
2. ุณุชุชู ุชูุฌููู ุฅูู ุตูุญุฉ ุงูุนูู ุงููุฎุตุตุฉ ูู
3. ููููู ุงููุตูู ููุท ูุตูุญุงุช ูุณูู
4. ุณุชุดุงูุฏ ููุท ุงููุญุฏุงุช ุงูุฎุงุตุฉ ุจูุณูู

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ
- `employees` - ุฌุฏูู ุงูููุธููู ูุน `work_page`
- `units` - ุฌุฏูู ุงููุญุฏุงุช ูุน `current_department` ู `current_section`
- `movements` - ุฌุฏูู ุงูุญุฑูุงุช

### ุงูุญููู ุงููููุฉ
- `employees.work_page` - ุตูุญุฉ ุงูุนูู ุงููุฎุตุตุฉ ููููุธู
- `employees.department` - ูุณู ุงูููุธู
- `units.current_department` - ุงููุณู ุงูุญุงูู ูููุญุฏุฉ
- `units.current_section` - ุงูุญุงูุฉ ุงูุญุงููุฉ ูููุญุฏุฉ
- `units.type` - ููุน ุงููุญุฏุฉ (Tipper, Cargo, Tanker, Silo)

## ๐ง ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุฅููุงููุงุช ุงูุชูุณุน
1. ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุฃููุงุน ุงููุญุฏุงุช
2. ุชุฎุตูุต ุฃููุงู ุงูุฃูุณุงู
3. ุฅุถุงูุฉ ุชูุงุฑูุฑ ูุชูุฏูุฉ
4. ูุธุงู ุฅุดุนุงุฑุงุช
5. ุชุชุจุน ุงูุฃุฏุงุก ูุงูููุงุกุฉ

### ุงูุชุญุณููุงุช ุงูููุชุฑุญุฉ
1. ุฅุถุงูุฉ ููุงุชุฑ ุฒูููุฉ ููุฅุญุตุงุฆูุงุช
2. ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ ุจุตูุบ ูุฎุชููุฉ
3. ูุธุงู ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู
4. ูุงุฌูุฉ ุฅุฏุงุฑุฉ ูุชูุฏูุฉ ูููุฏูุฑ
